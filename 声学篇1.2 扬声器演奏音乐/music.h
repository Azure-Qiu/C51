#ifndef __MUSIC_H__
#define __MUSIC_H__

#include "delay.h"


// 88个自然音阶频率对应定时器初值
u8 code music_Timer_init[88][2] = {
	{0xBE, 0x8C},
	{0xC2, 0x38},
	{0xC5, 0xB0},
	{0xC8, 0xF6},
	{0xCC, 0x0C},
	{0xCE, 0xF7},
	{0xD1, 0xB7},
	{0xD4, 0x50},
	{0xD6, 0xC4},
	{0xD9, 0x15},
	{0xDB, 0x44},
	{0xDD, 0x54},
	{0xDF, 0x46},
	{0xE1, 0x1C},
	{0xE2, 0xD8},
	{0xE4, 0x7B},
	{0xE6, 0x06},
	{0xE7, 0x7B},
	{0xE8, 0xDC},
	{0xEA, 0x28},
	{0xEB, 0x62},
	{0xEC, 0x8A},
	{0xED, 0xA2},
	{0xEE, 0xAA},
	{0xEF, 0xA3},
	{0xF0, 0x8E},
	{0xF1, 0x6C},
	{0xF2, 0x3D},
	{0xF3, 0x03},
	{0xF3, 0xBE},
	{0xF4, 0x6E},
	{0xF5, 0x14},
	{0xF5, 0xB1},
	{0xF6, 0x45},
	{0xF6, 0xD1},
	{0xF7, 0x55},
	{0xF7, 0xD1},
	{0xF8, 0x47},
	{0xF8, 0xB6},
	{0xF9, 0x1F},
	{0xF9, 0x82},
	{0xF9, 0xDF},
	{0xFA, 0x37},
	{0xFA, 0x8A},
	{0xFA, 0xD9},
	{0xFB, 0x23},
	{0xFB, 0x68},
	{0xFB, 0xAA},
	{0xFB, 0xE9},
	{0xFC, 0x24},
	{0xFC, 0x5B},
	{0xFC, 0x8F},
	{0xFC, 0xC1},
	{0xFC, 0xEF},
	{0xFD, 0x1B},
	{0xFD, 0x45},
	{0xFD, 0x6C},
	{0xFD, 0x91},
	{0xFD, 0xB4},
	{0xFD, 0xD5},
	{0xFD, 0xF4},
	{0xFE, 0x12},
	{0xFE, 0x2D},
	{0xFE, 0x48},
	{0xFE, 0x60},
	{0xFE, 0x78},
	{0xFE, 0x8E},
	{0xFE, 0xA3},
	{0xFE, 0xB6},
	{0xFE, 0xC9},
	{0xFE, 0xDA},
	{0xFE, 0xEB},
	{0xFE, 0xFA},
	{0xFF, 0x09},
	{0xFF, 0x17},
	{0xFF, 0x24},
	{0xFF, 0x30},
	{0xFF, 0x3C},
	{0xFF, 0x47},
	{0xFF, 0x51},
	{0xFF, 0x5B},
	{0xFF, 0x64},
	{0xFF, 0x6D},
	{0xFF, 0x75},
	{0xFF, 0x7D},
	{0xFF, 0x84},
	{0xFF, 0x8B},
	{0xFF, 0x92},
};



// 12大调音阶
typedef enum{
	C_Major_scale = 0, // C大调
	bD_Major_scale,    // #C(bD)大调
	D_Major_scale,     // D大调
	bE_Major_scale,    // #D(bE)大调
	E_Major_scale,     // E大调
	F_Major_scale,     // F大调
	bG_Major_scale,    // #F(bG)大调
	G_Major_scale,     // G大调
	bA_Major_scale,    // #G(bA)大调
	A_Major_scale,     // A大调
	bB_Major_scale,    // #A(bB)大调
	B_Major_scale,     // B大调
}Music_Major_Scale;


// 不同音阶下简谱与频率的索引对应关系
u8 Mapping[3][21] = {
	{40, 42, 44, 45, 47, 49, 51, 52, 54, 56, 57, 59, 61, 63, 64, 66, 68, 69, 71, 73, 75},
	{0,},
	{42, 44, 46, 47, 49, 51, 53, 54, 56, 58, 59, 61, 63, 65, 66, 68, 70, 71, 73, 75, 77},	
};


//// 小星星乐谱C大调（0表示休止符, 0xff为结束标志）
//u8 code music[][2] = {
//	{8,4} , {8,4} , {12,4}, {12,4}, 
//	{13,4}, {13,4}, {12,2}, 
//	{11,4}, {11,4}, {10,4}, {10,4},
//	{9,4} , {9,4} , {8,2} ,
//	{12,4}, {12,4}, {11,4}, {11,4},
//	{10,4}, {10,4}, {9,2},
//	{12,4}, {12,4}, {11,4}, {11,4},
//	{10,4}, {10,4}, {9,2},
//	0xff
//};


// 《突然好想你》乐谱D大调（0表示休止符, 0xff为结束标志）
u8 code music[][2] = {
	{13,8},{14,8},
	{15,4},{17,4},{16,4},{15,8},{16,8},
	{12,4},{16,4},{15,4},{13,8},{14,8},
	{15,4},{17,4},{16,4},{15,4},
	{17,2},{0,4},{13,8},{14,8},
	{15,4},{17,4},{16,4},{19,8},{16,8},
	{18,8},{17,16},{16,16},{16,16},{17,8},{16,16},{16,16},{15,5},{13,8},{14,8},
	{15,4},{17,4},{16,4},{15,4},
	{15,1},
	0xff
};


#endif