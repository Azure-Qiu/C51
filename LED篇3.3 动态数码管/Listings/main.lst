C51 COMPILER V9.60.7.0   MAIN                                                              09/03/2023 22:46:59 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Software\Keil\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          
   3          typedef unsigned char u8;
   4          typedef unsigned int u16;
   5          
   6          void delay(u16 t){
   7   1              while(t--);
   8   1      }
   9          
  10          
  11          //共阴数码管码表(I LOVE YOU)
  12          u8 code smg_array[] = {0x30,0x38,0x3f,0x3e,0x79,0x6e,0x3f,0x3e};
  13          
  14          sbit A0 = P2^2;
  15          sbit A1 = P2^3;
  16          sbit A2 = P2^4;         
  17                                                   
  18          //位选码，利用十进制取余
  19          void Dec2Bin(u8 i){
  20   1              A0 = i % 2;
  21   1              i /= 2;
  22   1              A1 = i % 2;
  23   1              i /= 2;
  24   1              A2 = i % 2;
  25   1      }
  26          
  27          
  28          void main(){
  29   1              u8 i;
  30   1              while(1){
  31   2                      for(i=0;i<8;i++){
  32   3                              Dec2Bin(i);
  33   3                              P0 = smg_array[7-i];
  34   3                              delay(100); //1ms,实验测试5ms以上能察觉出闪烁
  35   3                              P0 = 0x00; //消除重影
  36   3                      }
  37   2              }
  38   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     77    ----
   CONSTANT SIZE    =      8    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
