C51 COMPILER V9.60.7.0   MAIN                                                              02/08/2024 16:12:12 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Software\Keil\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "led.h"
   2          #include "timer.h"
   3          /** 
   4           **  @brief    仅提供一个demo
   5           **  @author   QIU
   6           **  @data     2023.08.23
   7           **/
   8          
   9          /*-------------------------------------------------------------------*/
  10          
  11          u16 time_init = 9216;
  12          u8 interval = 50; // 500ms
  13          
  14          void main(){
  15   1              
  16   1              TIMERx_init(0, time_init); // 定时器0，10ms
  17   1              TR0 = 1;
  18   1      
  19   1              // flag_led_stream = true;
  20   1              
  21   1              // 点亮一颗LED
  22   1              //led_on(2); 
  23   1              while(1){
  24   2      
  25   2                      // 流水灯
  26   2                      //led_stream(50000);  
  27   2                      
  28   2                      // 跑马灯
  29   2                      // led_run(50000);  
  30   2              }
  31   1      }
  32          
  33          // 定时器0的中断服务程序模板
  34          void TIMER0_serve() interrupt 1{
  35   1              static u8 counter;
  36   1              TL0 = (65536-time_init)%256; //低8位
  37   1              TH0 = (65536-time_init)/256; //高8位
  38   1              
  39   1              
  40   1      //      if(counter >= interval && flag_led_stream){
  41   1      //              counter = 0;
  42   1      //              led_stream_byTimer();
  43   1      //      }else{
  44   1      //              counter++;
  45   1      //      }
  46   1              
  47   1              if(counter >= interval){
  48   2                      counter = 0;
  49   2                      led_run_byTimer();
  50   2              }else{
  51   2                      counter++;
  52   2              }
  53   1              
  54   1              
C51 COMPILER V9.60.7.0   MAIN                                                              02/08/2024 16:12:12 PAGE 2   

  55   1      }
  56          
  57          
  58          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    158    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
